# 你不知道的JavaScript(上卷)

## 第一章

### 1.1 代码

当变量出现在赋值操作的左侧时进行`LHS查询`，出现在右侧时进行`RHS查询`。
讲得更准确一点，RHS查询与简单地查找某个变量的值别无二致，而 LHS 查询则是试图找到变量的容器本身，从而可以对其赋值。从这个角度说，RHS并不是真正意义上的“赋值操作的右侧”，更准确地说是“非左侧”。**可以将RHS理解成retrieve his source value（取到它的源值）**

```javascript
console.log(a) // RHS引用
a = 2    // LHS引用
```

引擎和作用域的对话：
![引擎和作用域的对话](./image/conversion.png)

严格模式禁止自动或隐式地创建全局变量，在严格模式LHS查询失败与RHS查询失败均抛出`ReferenceError`异常

### 1.2 表达式

基本上可以说 JavaScript是解释型的，因为每次执行JavaScript源码时都需要进行处理。但这么说并不完全精确。JavaScript引擎实际上是动态编译程序，然后立即执行编译后的代码。

### 1.3 实践

如果要在终端中一次输入多行， 那么可以使用 `<shift> + <enter> `组合键来另起一行。一旦点击 `<enter>`键，终端会立即执行已输入的所有代码。

使用`prompt`函数获取输入

```javascipt
age = prompt( "Please tell me your age:" );
```

### 1.4 运算符

在使用变量前总是应该先声明变量。一个变量在每个作用域中只需声明一次，声明之后可以按照需要多次使用。

### 1.5 值与类型

显示类型转换: `Number("42") => 42`

隐式类型转换: `"99.99" == 99.99` 成立

### 1.6 代码注释

多行注释可以出现在行中间

```javascipt
var a = /* 任意值 */ 42;
```

## 第2章 词法作用域

### 2.1词法阶段

作用域嵌套示例：

![作用域](./image/scope.png)

**作用域查找会在找到第一个匹配的标识符时停止。**
遮蔽效应：在多层的嵌套作用域中可以定义同名的标识符

全局变量会自动成为全局对象的属性，比如window, 通过全局属性可以访问被遮蔽的全局变量，但是无法访问被遮蔽的非全局变量。**词法作用域只由被声明时所处的位置决定。与在哪里被调用以及如何被调用无关**